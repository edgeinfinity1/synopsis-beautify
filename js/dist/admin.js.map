{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@fof/synopsis/./src/admin/extend.ts","webpack://@fof/synopsis/./src/admin/extenders/extendEditTagModal.tsx","webpack://@fof/synopsis/./src/admin/index.tsx","webpack://@fof/synopsis/./src/admin/util/typeOptions.ts","webpack://@fof/synopsis/./src/common/extend.ts","webpack://@fof/synopsis/external root \"flarum.core.compat['admin/app']\"","webpack://@fof/synopsis/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/synopsis/external root \"flarum.core.compat['common/extenders']\"","webpack://@fof/synopsis/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/synopsis/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@fof/synopsis/external root \"flarum.core.compat['tags/admin/components/EditTagModal']\"","webpack://@fof/synopsis/external root \"flarum.core.compat['tags/common/models/Tag']\"","webpack://@fof/synopsis/webpack/bootstrap","webpack://@fof/synopsis/webpack/runtime/compat get default export","webpack://@fof/synopsis/webpack/runtime/define property getters","webpack://@fof/synopsis/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/synopsis/webpack/runtime/make namespace object","webpack://@fof/synopsis/./admin.ts"],"sourcesContent":["import Extend from 'flarum/common/extenders';\nimport commonExtend from '../common/extend';\n\nexport default [...commonExtend];\n","import app from 'flarum/admin/app';\nimport EditTagModal from 'flarum/tags/admin/components/EditTagModal';\nimport { extend } from 'flarum/common/extend';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default function () {\n  extend(EditTagModal.prototype, 'oninit', function () {\n    this.richExcerpts = new Stream(this.tag.richExcerpts());\n    this.excerptLength = new Stream(this.tag.excerptLength());\n  });\n\n  extend(EditTagModal.prototype, 'submitData', function (data) {\n    data.richExcerpts = this.richExcerpts();\n    data.excerptLength = this.excerptLength();\n\n    return data;\n  });\n\n  extend(EditTagModal.prototype, 'fields', function (items) {\n    items.add(\n      'synopsis-excerpt-length',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('fof-synopsis.admin.settings.excerpt-length.label')}</label>\n        <input className=\"FormControl\" type=\"number\" min=\"0\" bidi={this.excerptLength} />\n        <div>{app.translator.trans('fof-synopsis.admin.settings.excerpt-length.help')}</div>\n      </div>,\n      5\n    );\n\n    items.add(\n      'synopsis-rich-excerpts',\n      <div className=\"Form-group\">\n        <div>\n          <label className=\"checkbox\">\n            <input type=\"checkbox\" bidi={this.richExcerpts} />\n            {app.translator.trans('fof-synopsis.admin.settings.rich-excerpts.label')}\n          </label>\n        </div>\n        <div>{app.translator.trans('fof-synopsis.admin.settings.rich-excerpts.help')}</div>\n      </div>,\n      5\n    );\n  });\n}\n","import app from 'flarum/admin/app';\nimport extendEditTagModal from './extenders/extendEditTagModal';\nimport typeOptions from './util/typeOptions';\n\nexport { default as extend } from './extend';\n\napp.initializers.add('fof-synopsis', () => {\n  app.extensionData\n    .for('fof-synopsis')\n    .registerSetting(function () {\n      if (!('flarum-tags' in flarum.extensions)) return;\n      return (\n        <div className=\"Form-group\">\n          <p className=\"helpText\">{app.translator.trans('fof-synopsis.admin.settings.tags-enabled')}</p>\n        </div>\n      );\n    })\n    .registerSetting({\n      label: app.translator.trans('fof-synopsis.admin.settings.excerpt-length.label'),\n      help: app.translator.trans('fof-synopsis.admin.settings.excerpt-length.help'),\n      setting: 'fof-synopsis.excerpt_length',\n      type: 'number',\n    })\n    .registerSetting({\n      label: app.translator.trans('fof-synopsis.admin.settings.rich-excerpts.label'),\n      help: app.translator.trans('fof-synopsis.admin.settings.rich-excerpts.help'),\n      setting: 'fof-synopsis.rich-excerpts',\n      type: 'boolean',\n    })\n    .registerSetting({\n      label: app.translator.trans('fof-synopsis.admin.settings.excerpt-type.label'),\n      help: app.translator.trans('fof-synopsis.admin.settings.excerpt-type.help'),\n      setting: 'fof-synopsis.excerpt-type',\n      options: typeOptions(),\n      type: 'select',\n    })\n    .registerSetting({\n      label: app.translator.trans('fof-synopsis.admin.settings.disable-when-searching.label'),\n      help: app.translator.trans('fof-synopsis.admin.settings.disable-when-searching.help'),\n      setting: 'fof-synopsis.disable-when-searching',\n      type: 'switch',\n    });\n\n  extendEditTagModal();\n});\n","import app from 'flarum/admin/app';\nimport extractText from 'flarum/common/utils/extractText';\n\nexport default function () {\n  let opts: { [key: string]: string } = {};\n  opts = ['first', 'last'].reduce((o: { [key: string]: string }, key) => {\n    o[key] = extractText(app.translator.trans(`fof-synopsis.admin.settings.${key}-label`));\n\n    return o;\n  }, {});\n  return opts;\n}\n","import Extend from 'flarum/common/extenders';\nimport Tag from 'flarum/tags/common/models/Tag';\n\nexport default [\n  new Extend.Model(Tag) //\n    .attribute<boolean>('richExcerpts')\n    .attribute<number>('excerptLength'),\n];\n","module.exports = flarum.core.compat['admin/app'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/extenders'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/extractText'];","module.exports = flarum.core.compat['tags/admin/components/EditTagModal'];","module.exports = flarum.core.compat['tags/common/models/Tag'];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/admin';\n"],"names":["commonExtend","concat","app","EditTagModal","extend","Stream","prototype","richExcerpts","tag","excerptLength","data","items","add","m","className","translator","trans","type","min","bidi","extendEditTagModal","typeOptions","default","initializers","extensionData","registerSetting","flarum","extensions","label","help","setting","options","extractText","opts","reduce","o","key","Extend","Tag","Model","attribute"],"sourceRoot":""}